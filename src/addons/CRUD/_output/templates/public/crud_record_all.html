<xf:title>{{ phrase('CRUD') }}</xf:title>

<xf:pageaction>
  <xf:button href="{{ link('crud/add') }}" icon="add"
    >{{ phrase('Add Record') }}</xf:button
  >
</xf:pageaction>

<xf:if is="$data is not empty">
  <div class="block">
    <div class="block-outer">
      <xf:macro
        template="filter_macro"
        name="quick_filter"
        arg-key="crud"
        arg-class="block-outer-opposite"
      />
    </div>
    <div class="block-container">
      <div class="block-body">
        <!--       < Records >  -->

        <xf:datalist data-xf-init="responsive-data-list">
          <xf:datarow rowtype="header">
            <xf:cell> Name </xf:cell>
            <xf:cell> Class </xf:cell>
            <xf:cell> Roll No </xf:cell>
            <xf:cell class="dataList-cell--min"> Action </xf:cell>
          </xf:datarow>
          <xf:foreach loop="$data" value="$val">
            <xf:datarow>
              <xf:cell href="{{ link('crud/edit', $val) }}">
                {{$val.name}}
              </xf:cell>
              <xf:cell> {{$val.class}} </xf:cell>
              <xf:cell> {{$val.rollNo}} </xf:cell>
              <xf:delete
                href="{{ link('crud/delete-record', $val) }}"
                overlay="true"
              />
            </xf:datarow>
          </xf:foreach>
        </xf:datalist>
        <xf:pagenav
          page="{$page}"
          perpage="{$perPage}"
          total="{$total}"
          link="crud"
          wrapperclass="block"
        />
        <!--       </ Records > -->
      </div>

      <!-- <div class="block-footer">
        <span class="block-footer-counter">footer</span>
      </div> -->
    </div>
  </div>
  <xf:else />
  <div class="blockMessage">{{ phrase('no_items_have_been_created_yet') }}</div>
</xf:if>
